//Expanded:znapi.github.io/scratchx/file-io/main.js
!function(t){t.read=function(t,e){e("")},t.write=function(t,e,n){n()},t.make=function(t,e){e()},t._shutdown=function(){},t._getStatus=function(){return{status:1,msg:"Waiting for helper app"}},ScratchExtensions.register("Simple File I/O",{blocks:[["R","read from file %s","read","todo.txt"],["w","write %s to file %s","write","hello world","text.txt"],["w","create file %s","make","text.txt"]],url:"https://github.com/Znapi/scratchx/wiki/Simple-File-IO"},t);var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&(console.log("Helper app responded!"),t._getStatus=function(){return{status:2,msg:"Ready"}},t.read=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.open("GET","http://localhost:8080/"+t,!0),n.send()},t.write=function(t,e,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&n()},a.open("PUT","http://localhost:8080/"+e,!0),a.send(t)},t.make=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&e()},n.open("POST","http://localhost:8080/"+t,!0),n.send()})},e.open("OPTIONS","http://localhost:8080/",!0),e.send()}({});
