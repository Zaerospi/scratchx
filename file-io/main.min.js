//Expanded:znapi.github.io/scratchx/file-io/main.js
!function(t){function e(t,e,i,s){function a(t,e,n,i,s){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&("yes"==a.getResponseHeader("X-Is-ScratchX-File-IO-Helper-App")?i(a.responseText):s())},a.open(t,"http://localhost:8080/"+e,!0),void 0!==n?a.send(n):a.send()}var o;a(t,e,s,i,function(){n={status:1,msg:"Waiting for helper app"},o=window.setInterval(a,5e3,t,e,s,function(t){window.clearInterval(o),n={status:2,msg:"Ready"},i(t)},function(){})})}t.read=function(t,n){e("GET",t,n)},t.write=function(t,n,i){e("PUT",n,i,t)},t.make=function(t,n){e("POST",t,n)},t._shutdown=function(){},t._getStatus=function(){};var n={status:1,msg:"Waiting for helper app"};ScratchExtensions.register("Simple File I/O",{blocks:[["R","read from file %s","read","text.txt"],["w","write %s to file %s","write","hello world","text.txt"],["w","create file %s","make","text.txt"]],url:"https://github.com/Znapi/scratchx/wiki/Simple-File-IO"},t),e("OPTIONS","",function(){n={status:2,msg:"Ready"}})}({});
